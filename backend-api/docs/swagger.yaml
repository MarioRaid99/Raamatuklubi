swagger: '2.0'
info:
    title: RaamatuKlubi
    version: 1.0.0
    description: Hinda raamatuid
paths:
    /books:
        get:
            tags:
                - Books
            responses:
                '200':
                    description: Returns a list of Books
                    schema:
                        type: array
                        items:
                            type: string
                    examples:
                        application/json:
                            - Kalevipoeg
                            - Harry Potter
                            - Kriminoloogia
            summary: Get all the <Books> in API
            description: Return all Films that are registered in API
        post:
            tags:
                - Books
            parameters:
                -
                    name: body
                    description: The <Book> that is to be created.
                    schema:
                        $ref: '#/definitions/new-Book'
                    in: body
                    required: true
            responses:
                '201':
                    description: Send 201 when <Book> is successfully added to the database.
                    schema:
                        $ref: '#/definitions/new-Book'
                '400':
                    description: 'Missing some parameter, please review your request data!'
                    schema:
                        $ref: '#/definitions/error'
            summary: Create a new <Book> into the app
            description: 'Create a new <Book> instance with its required details, for further usage.'
    /books(BookID):
        get:
            tags:
                - Books
            responses:
                '200':
                    description: Returns all details of a given <Book>
            operationId: BookID
            description: Will return all details of a given <Book> based on BookID given.
        delete:
            tags:
                - Books
            parameters:
                -
                    name: body
                    description: id of <Book> to be removed from the app.
                    schema:
                        $ref: '#/definitions/delete-film'
                    in: body
                    required: true
            responses:
                '204':
                    description: Returns "no content!" when removal of <Book> is successful.
                    examples:
                        application/json:
                            -
                                error: No content!
                '404':
                    description: 'Returns error, when <Book> with specified ID does not exist'
                    schema:
                        $ref: '#/definitions/error'
                    examples:
                        application/json:
                            -
                                error: id not found!
            summary: Delete a <Book> from the app
            description: 'Deletes and entry from the app, NEVER TOBE SEEN AGAIN.'
    /events:
        get:
            tags:
                - Events
            responses:
                '200':
                    description: Returns a list of Events
                    schema:
                        type: array
                        items:
                            $ref: '#/definitions/event-summary'
                    examples:
                        application/json:
                            -
                                UniqueID: 018c6f4b-9999-7a1c-9a5f-1b2c3d4e5f60
                                Title: Raamatuklubi detsember
            summary: Get all the <Events> in API
            description: Return all Events that are registered in API
        post:
            tags:
                - Events
            parameters:
                -
                    name: body
                    description: The <Event> that is to be created.
                    schema:
                        $ref: '#/definitions/new-Event'
                    in: body
                    required: true
            responses:
                '201':
                    description: Send 201 when <Event> is successfully added to the database.
                    schema:
                        $ref: '#/definitions/new-Event'
                '400':
                    description: Send 400 when request body is missing some parameter.
                    schema:
                        $ref: '#/definitions/error'
            summary: Create a new <Event> into the app
            description: Create a new <Event> instance with its required details, for further usage.
    /events(UniqueID):
        get:
            tags:
                - Events
            responses:
                '200':
                    description: Returns all details of a given <Event>
                    schema:
                        $ref: '#/definitions/Event'
                '400':
                    description: Returns error when ID is missing or invalid
                    schema:
                        $ref: '#/definitions/error'
                '404':
                    description: Returns error when <Event> with specified ID does not exist
                    schema:
                        $ref: '#/definitions/error'
            summary: Get full details of an <Event>
            description: Will return all details of a given <Event> based on UniqueID given.
definitions:
    new-Book:
        title: Root Type for new-Book
        description: ''
        required:
            - Description
            - Language
            - Name
            - Pages
            - RealeaseYear
        type: object
        properties:
            Name:
                type: string
            Description:
                type: string
            Pages:
                format: int32
                type: integer
            RealeaseYear:
                format: int32
                type: integer
            Language:
                type: string
        example:
            Name: NewBookName
            Description: NewBookDescription
            Pages: 125
            RealeaseYear: 1999
            Language: NewMovieLanguage
    error:
        title: Root Type for error
        description: This data type is currently a complex object
        type: object
        properties:
            error:
                type: string
        example:
            error: Error message
    delete-film:
        title: Root Type for delete-film
        description: ''
        type: object
        properties:
            BookID:
                type: string
        example:
            BookID: ID
    Event:
        title: Root Type for Event
        description: ''
        required:
            - UniqueID
            - Event_type
            - Title
            - User_id
            - Start_time
        type: object
        properties:
            UniqueID:
                type: string
            Event_type:
                type: string
            Title:
                type: string
            User_id:
                type: string
            Start_time:
                type: string
            Created_at:
                type: string
            Description:
                type: string
            Location:
                type: string
        example:
            UniqueID: 018c6f4b-9999-7a1c-9a5f-1b2c3d4e5f60
            Event_type: Meetup
            Title: Raamatuklubi detsember
            User_id: 018c6f4b-7c7f-7a1c-9a5f-1b2c3d4e5f60
            Start_time: '2025-12-20T18:00:00Z'
            Created_at: '2025-12-14T10:00:00Z'
            Description: Arutame kuu raamatut ja valime j√§rgmise.
            Location: Tartu, Raekoja plats
